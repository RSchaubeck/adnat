<% url = (current_user ? user_path(current_user) : signup_path) %>
<% method = (current_user ? "patch" : "post") %>
<% btn_val = (current_user ? "Update" : "Sign Up") %>

<%= form_with model: @user, url: url, method: method, local: true do |f| %>
        <%= f.label :name %>
        <%= f.text_field :name %>
        <%= f.label :email, "Email" %>
        <%= f.text_field :email %>
        <%= f.label :password, "Password (6 characters minimum)" %>
        <%= f.password_field :password %>
        <%= f.label :password_confirmation %>
        <%= f.password_field :password_confirmation %>
        <%= f.submit btn_val %>
<% end %>